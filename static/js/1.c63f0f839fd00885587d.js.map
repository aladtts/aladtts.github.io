{"version":3,"sources":["webpack:///src/views/total.vue","webpack:///./src/views/total.vue?4355","webpack:///./src/views/total.vue"],"names":["total","name","mixins","data","loadTable","columns1","title","key","width","columns2","data2","todayInvest","line","mainLine","allLine","filters","flex","e","r","toFixed","subString","substring","length","computed","data1","a","addr","this","user","grade","invest","shareholder","sys","angelAmount","isAngel","mounted","_ref","_this","that","sockets","subscribe","asyncToGenerator_default","regenerator_default","mark","_callee","wrap","_context","prev","next","reload","init","api","sent","$store","commit","mutation_types","stop","_x","apply","arguments","getTodayInvest","getGradeCount","getLine","methods","dispatch","countTime","setTimeout","_this2","_callee2","g","_context2","_this3","_callee3","_context3","$set","_this4","_callee4","ti","_context4","views_total","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","xs","_v","stripe","columns","loading","size","xmlns","xmlns:xlink","viewBox","preserveAspectRatio","shape-rendering","d","xlink:href","x","y","fill","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.c63f0f839fd00885587d.js","sourcesContent":["<template>\n  <div id=\"total\">\n    <Row>\n      <Col :xs=\"12\" class=\"header\">\n        <h2>My income statistics</h2>\n        <Table stripe :columns=\"columns1\" :data=\"data1\" :loading=\"loadTable\" class=\"my\"></Table>\n        <h2>Vip count statistics</h2>\n        <Table stripe :columns=\"columns2\" :data=\"data2\" size=\"small\"></Table>\n\n        <svg class=\"waves\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n             viewBox=\"0 24 150 28\" preserveAspectRatio=\"none\" shape-rendering=\"auto\">\n          <defs>\n            <path id=\"gentle-wave\" d=\"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z\"/>\n          </defs>\n          <g class=\"parallax\">\n            <use xlink:href=\"#gentle-wave\" x=\"48\" y=\"0\" fill=\"rgba(255,255,255,0.7\"/>\n            <use xlink:href=\"#gentle-wave\" x=\"48\" y=\"3\" fill=\"rgba(255,255,255,0.5)\"/>\n            <use xlink:href=\"#gentle-wave\" x=\"48\" y=\"5\" fill=\"rgba(255,255,255,0.3)\"/>\n            <use xlink:href=\"#gentle-wave\" x=\"48\" y=\"7\" fill=\"#fff\"/>\n          </g>\n        </svg>\n      </Col>\n    </Row>\n  </div>\n</template>\n\n<script>\n    import mixins from '../mixins'\n    import * as api from '../api'\n    import * as types from '../store/mutation-types'\n\n    export default {\n        name: \"total\",\n        mixins: [mixins],\n        data() {\n            return {\n                loadTable:true,\n                columns1:[\n                    {title:'Address',key:'addr',width: 400},\n                    {title:'VIP',key:'grade',width: 100},\n                    {title:'Main line',key:'mainLine',width: 120},\n                    {title:'All side line',key:'allLine',width: 120},\n                    {title:'Total investment',key:'invest',width: 160},\n                    {title:'Shareholder dividends',key:'shareholder',width: 200},\n                    {title:'Nodes income',key:'angelAmount',width: 140},\n                    {title:'Is Nodes',key:'isAngel',width: 100},\n                ],\n                columns2:[\n                    {title:'Lv',key:'grade'},\n                    {title:'Count',key:'count'}\n                ],\n                data2:[],\n                todayInvest:0,\n                line:{\n                    mainLine:0,\n                    allLine:0\n                },\n            }\n        },\n        filters: {\n            flex(e, r) {\n                if (e) {\n                    return e.toFixed(r)\n                } else {\n                    return e;\n                }\n            },\n            subString(e, r) {\n                return e.substring(0, 16) + '...' + e.substring(e.length - r)\n            }\n        },\n        computed:{\n            data1(){\n                let a=[];\n                a[0]={\n                    addr:this.user.addr,\n                    grade:this.user.grade,\n                    mainLine:this.line.mainLine + \" ETH\",\n                    allLine:this.line.allLine + \" ETH\",\n                    invest:this.todayInvest+' ETH',\n                    shareholder:this.sys.shareholder?this.sys.shareholder+' ETH':0+' ETH',\n                    angelAmount:this.user.angelAmount?this.user.angelAmount.toFixed(4)+' ETH':'0 ETH',\n                    isAngel:this.user.isAngel?'Yes':'No'\n                };\n                return a\n            }\n        },\n        mounted() {\n            // 初始化\n            let that = this;\n            this.sockets.subscribe('reload', async data => {\n                if (data.reload) {\n                    that.init();\n                    let user = await api.getUser();\n                    that.$store.commit(types.UPDATE_USER, user.user);\n                }\n            });\n            this.getTodayInvest();\n            this.getGradeCount();\n            this.getLine();\n        },\n        methods: {\n            // 初始化\n            init() {\n                let that = this;\n                this.$store.dispatch('initService');\n                this.countTime();\n                setTimeout(function () {\n                    that.$store.dispatch('newContract');\n                }, 5000);\n            },\n            async getGradeCount(){\n                let g=await api.getGradeCount();\n                this.data2=g.data;\n            },\n            async getLine(){\n                let line = await api.getLine();\n                this.$set(this,'line',line.data);\n                this.loadTable=false;\n            },\n            async getTodayInvest(){\n                let ti =await  api.getTodayInvest();\n                this.$set(this,'todayInvest',ti.data);\n            }\n        }\n    }\n</script>\n\n<style lang=\"less\">\n  #total {\n    background: rgb(30, 25, 49);\n\n    h2{\n      font-size: 1.2rem;\n      padding: 1rem;\n    }\n    .my{\n      td div span{\n        display: block;\n        white-space: nowrap;\n      }\n\n    }\n    .header {\n      position: relative;\n      width: 100%;\n      height: 100vh;\n\n      .ivu-card {\n        background: none;\n        height: 100%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n\n    }\n\n  }\n\n  .waves {\n    position: absolute;\n    width: 100%;\n    height: 15vh;\n    margin-bottom: -7px; /*Fix for safari gap*/\n    min-height: 100px;\n    max-height: 150px;\n    bottom: 0;\n  }\n\n  .content {\n    position: relative;\n    height: 20vh;\n    text-align: center;\n    background-color: white;\n  }\n\n  /* Animation */\n\n  .parallax > use {\n    animation: move-forever 25s cubic-bezier(.55, .5, .45, .5) infinite;\n  }\n\n  .parallax > use:nth-child(1) {\n    animation-delay: -2s;\n    animation-duration: 7s;\n  }\n\n  .parallax > use:nth-child(2) {\n    animation-delay: -3s;\n    animation-duration: 10s;\n  }\n\n  .parallax > use:nth-child(3) {\n    animation-delay: -4s;\n    animation-duration: 13s;\n  }\n\n  .parallax > use:nth-child(4) {\n    animation-delay: -5s;\n    animation-duration: 20s;\n  }\n\n  @keyframes move-forever {\n    0% {\n      transform: translate3d(-90px, 0, 0);\n    }\n    100% {\n      transform: translate3d(85px, 0, 0);\n    }\n  }\n\n  /*Shrinking for mobile*/\n  @media (max-width: 768px) {\n    .waves {\n      height: 60px;\n      min-height: 60px;\n    }\n\n    .content {\n      height: 30vh;\n    }\n\n    h1 {\n      font-size: 24px;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/total.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"total\"}},[_c('Row',[_c('Col',{staticClass:\"header\",attrs:{\"xs\":12}},[_c('h2',[_vm._v(\"My income statistics\")]),_vm._v(\" \"),_c('Table',{staticClass:\"my\",attrs:{\"stripe\":\"\",\"columns\":_vm.columns1,\"data\":_vm.data1,\"loading\":_vm.loadTable}}),_vm._v(\" \"),_c('h2',[_vm._v(\"Vip count statistics\")]),_vm._v(\" \"),_c('Table',{attrs:{\"stripe\":\"\",\"columns\":_vm.columns2,\"data\":_vm.data2,\"size\":\"small\"}}),_vm._v(\" \"),_c('svg',{staticClass:\"waves\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"viewBox\":\"0 24 150 28\",\"preserveAspectRatio\":\"none\",\"shape-rendering\":\"auto\"}},[_c('defs',[_c('path',{attrs:{\"id\":\"gentle-wave\",\"d\":\"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z\"}})]),_vm._v(\" \"),_c('g',{staticClass:\"parallax\"},[_c('use',{attrs:{\"xlink:href\":\"#gentle-wave\",\"x\":\"48\",\"y\":\"0\",\"fill\":\"rgba(255,255,255,0.7\"}}),_vm._v(\" \"),_c('use',{attrs:{\"xlink:href\":\"#gentle-wave\",\"x\":\"48\",\"y\":\"3\",\"fill\":\"rgba(255,255,255,0.5)\"}}),_vm._v(\" \"),_c('use',{attrs:{\"xlink:href\":\"#gentle-wave\",\"x\":\"48\",\"y\":\"5\",\"fill\":\"rgba(255,255,255,0.3)\"}}),_vm._v(\" \"),_c('use',{attrs:{\"xlink:href\":\"#gentle-wave\",\"x\":\"48\",\"y\":\"7\",\"fill\":\"#fff\"}})])])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-369ea048\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/total.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-369ea048\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./total.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./total.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./total.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-369ea048\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./total.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/total.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}